(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c67f3bd"],{"0062":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),s("el-breadcrumb-item",[e._v("系统管理")]),s("el-breadcrumb-item",[e._v("用户列表")])],1),s("el-card",{staticClass:"box-card"},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{span:12}},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getUserList},model:{value:e.queryInfo.username,callback:function(t){e.$set(e.queryInfo,"username",t)},expression:"queryInfo.username"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getUserList},slot:"append"})],1)],1),s("el-col",{attrs:{span:6}},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddDialog()}}},[e._v("新增")])],1)],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,boder:"",stripe:""}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),s("el-table-column",{attrs:{prop:"username",label:"姓名",width:"180"}}),s("el-table-column",{attrs:{prop:"mobile",label:"手机号",width:"180"}}),s("el-table-column",{attrs:{prop:"sex",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("1"===t.row.sex?"男":"女"))]}}])}),s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:function(s){return e.switchChange(t.row)}},model:{value:t.row.state,callback:function(s){e.$set(t.row,"state",s)},expression:"scope.row.state"}})]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top",enterable:!1}},[s("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"mini"},on:{click:function(s){return e.showEditDialog(t.row.id)}}})],1),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top",enterable:!1}},[s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(s){return e.showDelDialog(t.row.id)}}})],1)]}}])})],1),s("el-pagination",{attrs:{"current-page":e.queryInfo.page,"page-sizes":e.pageSizes,"page-size":e.queryInfo.length,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),s("el-dialog",{attrs:{title:"新增、修改用户",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.addDialogClose,"before-close":e.addDialogBeforeClose}},[s("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"70px"}},[s("el-form-item",{staticClass:"el-form-item-id",attrs:{label:"id",prop:"id"}},[s("el-input",{model:{value:e.addForm.id,callback:function(t){e.$set(e.addForm,"id",t)},expression:"addForm.id"}})],1),s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-input",{attrs:{disabled:!e.isAddDialog},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),s("el-form-item",{class:{showpwdinput:!e.isAddDialog},attrs:{label:"密码",prop:"password"}},[s("el-input",{model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),s("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[s("el-input",{model:{value:e.addForm.mobile,callback:function(t){e.$set(e.addForm,"mobile",t)},expression:"addForm.mobile"}})],1),s("el-form-item",{attrs:{label:"性别",prop:"sex"}},[s("el-radio",{attrs:{label:"1"},model:{value:e.addForm.sex,callback:function(t){e.$set(e.addForm,"sex",t)},expression:"addForm.sex"}},[e._v("男")]),s("el-radio",{attrs:{label:"2"},model:{value:e.addForm.sex,callback:function(t){e.$set(e.addForm,"sex",t)},expression:"addForm.sex"}},[e._v("女")])],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"注销用户",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("span",[e._v("确定删除用户吗？")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.userDel}},[e._v("确 定")])],1)])],1)},o=[],l=s("1bab"),i={name:"",data:function(){var e=function(e,t,s){var a=/\d{11}/;return t?a.test(t)?void s():(console.log("--------------"),s(new Error("请输入11位数字值"))):s(new Error("手机号不能为空"))};return{msg:"this is user page",isAddDialog:!0,queryInfo:{username:"",page:1,length:5},userList:[],total:0,pageSizes:[5,10,100,500],delId:"",dialogVisible:!1,addDialogVisible:!1,addForm:{username:"",password:"",mobile:"",sex:"1"},addFormRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:e,trigger:"blur"}]}}},methods:{addDialogClose:function(){this.$refs.addFormRef.resetFields()},handleSizeChange:function(e){this.queryInfo.length=e,this.getUserList()},handleCurrentChange:function(e){this.queryInfo.page=e,this.getUserList()},switchChange:function(e){var t=this;Object(l["a"])({url:"/web/user/update",method:"post",data:e}).then((function(s){return 200===s.status?t.$message({message:s.msg,type:"success",showClose:!0}):(e.state=1===e.state?0:1,t.$message({message:"更新用户状态失败",type:"error",showClose:!0}))})).catch((function(e){console.log(e)}))},addUser:function(){var e=this,t="";this.isAddDialog?t="/web/user/regester":(t="/web/user/update",this.addFormRules.password=[]),this.$refs.addFormRef.validate((function(s){s&&Object(l["a"])({url:t,data:e.addForm,method:"post"}).then((function(t){e.$message({message:t.msg,type:"success",showClose:!0}),e.addDialogVisible=!1,e.getUserList()})).catch((function(e){console.log(e)}))}))},userDel:function(){var e=this;Object(l["a"])({url:"/web/user/del",method:"get",params:{id:this.delId}}).then((function(t){e.$message({message:t.msg,type:"success",showClose:!0}),e.dialogVisible=!1,e.getUserList()})).catch((function(e){console.log(e)}))},userUpdate:function(e){console.log(e),this.getUserList()},showAddDialog:function(){this.isAddDialog=!0,this.addDialogVisible=!0},showEditDialog:function(e){var t=this;this.addDialogVisible=!0,this.isAddDialog=!1,Object(l["a"])({url:"/web/user/"+e,method:"get"}).then((function(e){console.log(e),t.addForm=e.data})).catch((function(e){console.log(e)}))},showDelDialog:function(e){this.delId=e,this.dialogVisible=!0},addDialogBeforeClose:function(){this.$refs.addFormRef.resetFields()},getUserList:function(){var e=this;Object(l["a"])({url:"/web/user",method:"get",params:this.queryInfo}).then((function(t){console.log(t),200===t.status?(e.userList=t.data,e.total=t.total):e.$message({message:t.msg,type:"error",showClose:!0})})).catch((function(e){console.log(e)}))}},created:function(){this.getUserList()}},r=i,n=(s("dc79"),s("2877")),d=Object(n["a"])(r,a,o,!1,null,null,null);t["default"]=d.exports},dc79:function(e,t,s){"use strict";var a=s("dfa0"),o=s.n(a);o.a},dfa0:function(e,t,s){}}]);
//# sourceMappingURL=chunk-6c67f3bd.8e734529.js.map