{"version":3,"sources":["webpack:///./src/views/Home/children/User.vue?a1ec","webpack:///src/views/Home/children/User.vue","webpack:///./src/views/Home/children/User.vue?5a13","webpack:///./src/views/Home/children/User.vue","webpack:///./src/views/Home/children/User.vue?6724"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","staticClass","on","getUserList","model","value","queryInfo","callback","$$v","$set","expression","slot","$event","showAddDialog","staticStyle","userList","scopedSlots","_u","key","fn","scope","_s","row","sex","switchChange","showEditDialog","id","showDelDialog","page","pageSizes","length","total","handleSizeChange","handleCurrentChange","addDialogVisible","addDialogClose","addDialogBeforeClose","ref","addForm","addFormRules","isAddDialog","class","showpwdinput","addUser","dialogVisible","userDel","staticRenderFns","name","data","checkAge","console","log","Error","msg","username","delId","password","mobile","methods","$refs","addFormRef","resetFields","current","url","method","userInfo","res","status","message","type","showClose","state","err","reqPath","validate","valid","params","userUpdate","created","component"],"mappings":"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","file":"js/chunk-6c67f3bd.8e734529.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"系统管理\")]),_c('el-breadcrumb-item',[_vm._v(\"用户列表\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.getUserList},model:{value:(_vm.queryInfo.username),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"username\", $$v)},expression:\"queryInfo.username\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getUserList},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.showAddDialog()}}},[_vm._v(\"新增\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userList,\"boder\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"姓名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"手机号\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"sex\",\"label\":\"性别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.sex==='1'? '男':'女'))]}}])}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-value\":'1',\"inactive-value\":'0'},on:{\"change\":function($event){return _vm.switchChange(scope.row)}},model:{value:(scope.row.state),callback:function ($$v) {_vm.$set(scope.row, \"state\", $$v)},expression:\"scope.row.state\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"修改\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.id)}}})],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"删除\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showDelDialog(scope.row.id)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.page,\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.queryInfo.length,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"新增、修改用户\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClose,\"before-close\":_vm.addDialogBeforeClose}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{staticClass:\"el-form-item-id\",attrs:{\"label\":\"id\",\"prop\":\"id\"}},[_c('el-input',{model:{value:(_vm.addForm.id),callback:function ($$v) {_vm.$set(_vm.addForm, \"id\", $$v)},expression:\"addForm.id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.isAddDialog},model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_c('el-form-item',{class:{showpwdinput: !_vm.isAddDialog},attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.addForm.password),callback:function ($$v) {_vm.$set(_vm.addForm, \"password\", $$v)},expression:\"addForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.addForm.mobile),callback:function ($$v) {_vm.$set(_vm.addForm, \"mobile\", $$v)},expression:\"addForm.mobile\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"sex\"}},[_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.addForm.sex),callback:function ($$v) {_vm.$set(_vm.addForm, \"sex\", $$v)},expression:\"addForm.sex\"}},[_vm._v(\"男\")]),_c('el-radio',{attrs:{\"label\":\"2\"},model:{value:(_vm.addForm.sex),callback:function ($$v) {_vm.$set(_vm.addForm, \"sex\", $$v)},expression:\"addForm.sex\"}},[_vm._v(\"女\")])],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"注销用户\",\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('span',[_vm._v(\"确定删除用户吗？\")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.userDel}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 导航区 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>系统管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <!-- 卡片视图区 -->\r\n    <el-card class=\"box-card\">\r\n      <!-- gutter设置每个el-col之间的间隙 -->\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"12\">\r\n          <el-input\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"queryInfo.username\"\r\n            class=\"input-with-select\"\r\n            clearable\r\n            @clear=\"getUserList\"\r\n          >\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getUserList\"></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-button type=\"primary\" @click=\"showAddDialog()\">新增</el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <!-- 表格 -->\r\n      <el-table :data=\"userList\" style=\"width: 100%\" boder stripe>\r\n        <el-table-column type=\"index\" width=\"50\"></el-table-column>\r\n        <el-table-column prop=\"username\" label=\"姓名\" width=\"180\"></el-table-column>\r\n        <el-table-column prop=\"mobile\" label=\"手机号\" width=\"180\"></el-table-column>\r\n        <el-table-column prop=\"sex\" label=\"性别\">\r\n          <template slot-scope=\"scope\">{{scope.row.sex==='1'? '男':'女'}}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"状态\">\r\n          <!-- 使用作用域插槽获取当前行的数据 -->\r\n          <template slot-scope=\"scope\">\r\n            <el-switch\r\n              v-model=\"scope.row.state\"\r\n              :active-value=\"'1'\"\r\n              :inactive-value=\"'0'\"\r\n              @change=\"switchChange(scope.row)\"\r\n            ></el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <!-- 使用作用域插槽获取当前行的数据 -->\r\n          <template slot-scope=\"scope\">\r\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"修改\" placement=\"top\" :enterable=\"false\">\r\n              <el-button\r\n                type=\"warning\"\r\n                icon=\"el-icon-edit\"\r\n                size=\"mini\"\r\n                @click=\"showEditDialog(scope.row.id)\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"删除\" placement=\"top\" :enterable=\"false\">\r\n              <el-button\r\n                type=\"danger\"\r\n                icon=\"el-icon-delete\"\r\n                size=\"mini\"\r\n                @click=\"showDelDialog(scope.row.id)\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页区 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryInfo.page\"\r\n        :page-sizes=\"pageSizes\"\r\n        :page-size=\"queryInfo.length\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      ></el-pagination>\r\n    </el-card>\r\n\r\n    <!-- 新增、修改用户对话框 -->\r\n    <el-dialog\r\n      title=\"新增、修改用户\"\r\n      :visible.sync=\"addDialogVisible\"\r\n      width=\"50%\"\r\n      @close=\"addDialogClose\"\r\n      @before-close=\"addDialogBeforeClose\"\r\n    >\r\n      <!-- 内容主体区 -->\r\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"70px\">\r\n        <el-form-item label=\"id\" prop=\"id\" class=\"el-form-item-id\">\r\n          <el-input v-model=\"addForm.id\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"addForm.username\" :disabled=\"!isAddDialog\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\" :class=\"{showpwdinput: !isAddDialog}\">\r\n          <el-input v-model=\"addForm.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" prop=\"mobile\">\r\n          <el-input v-model=\"addForm.mobile\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\" prop=\"sex\">\r\n          <el-radio v-model=\"addForm.sex\" label=\"1\">男</el-radio>\r\n          <el-radio v-model=\"addForm.sex\" label=\"2\">女</el-radio>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部按钮区 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 提示对话框 -->\r\n    <el-dialog title=\"注销用户\" :visible.sync=\"dialogVisible\" width=\"30%\">\r\n      <span>确定删除用户吗？</span>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"userDel\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { request } from '../../../network/request'\r\n\r\nexport default {\r\n  name: '',\r\n  data () {\r\n    // 自定义校验规则\r\n    var checkAge = (rule, value, callback) => {\r\n\r\n      const regAge = /\\d{11}/\r\n      if (!value) {\r\n        return callback(new Error('手机号不能为空'))\r\n      } else if (!regAge.test(value)) {\r\n        console.log(\"--------------\");\r\n\r\n        return callback(new Error('请输入11位数字值'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      msg: 'this is user page',\r\n      isAddDialog: true,\r\n      // 用户列表参数\r\n      queryInfo: {\r\n        username: '',\r\n        page: 1,\r\n        length: 5\r\n      },\r\n      userList: [],\r\n      total: 0,\r\n      pageSizes: [5, 10, 100, 500],\r\n      delId: '',\r\n      dialogVisible: false,\r\n      // 添加用户对话框的显示隐藏\r\n      addDialogVisible: false,\r\n      // 添加用户的表单数据对象\r\n      addForm: {\r\n        username: '',\r\n        password: '',\r\n        mobile: '',\r\n        sex: '1'\r\n      },\r\n      // 表单验证规则\r\n      addFormRules: {\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n          { min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n          { min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur' }\r\n        ],\r\n        mobile: [\r\n          { required: true, message: '请输入手机号', trigger: 'blur' },\r\n          // { type: 'number', message: '年龄必须为数字值' }\r\n          { validator: checkAge, trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    addDialogClose () {\r\n      this.$refs.addFormRef.resetFields()\r\n    },\r\n    handleSizeChange (length) {\r\n      this.queryInfo.length = length\r\n      this.getUserList()\r\n    },\r\n    handleCurrentChange (current) {\r\n      this.queryInfo.page = current\r\n      this.getUserList()\r\n    },\r\n    switchChange (userInfo) {\r\n      request({\r\n        url: '/web/user/update',\r\n        method: 'post',\r\n        data: userInfo\r\n      }).then(res => {\r\n        if (res.status === 200) {\r\n          return this.$message({\r\n            message: res.msg,\r\n            type: 'success',\r\n            showClose: true\r\n          })\r\n        } else {\r\n          userInfo.state = userInfo.state === 1 ? 0 : 1\r\n          return this.$message({\r\n            message: '更新用户状态失败',\r\n            type: 'error',\r\n            showClose: true\r\n          })\r\n        }\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n    },\r\n    addUser () {\r\n      let reqPath = ''\r\n      if (this.isAddDialog) {\r\n        reqPath = '/web/user/regester'\r\n      } else {\r\n        reqPath = '/web/user/update',\r\n          // 修改的时候因为不显示密码，所以去掉密码校验规则\r\n          this.addFormRules.password = []\r\n      }\r\n      this.$refs.addFormRef.validate(valid => {\r\n        if (!valid) return\r\n        request({\r\n          url: reqPath,\r\n          data: this.addForm,\r\n          method: 'post'\r\n        }).then(res => {\r\n          // this.$message.success(res.msg)\r\n          this.$message({\r\n            message: res.msg,\r\n            type: 'success',\r\n            showClose: true\r\n          })\r\n          this.addDialogVisible = false\r\n          this.getUserList()\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      })\r\n    },\r\n    userDel () {\r\n      request({\r\n        url: '/web/user/del',\r\n        method: 'get',\r\n        params: {\r\n          id: this.delId\r\n        }\r\n      }).then(res => {\r\n        this.$message({\r\n          message: res.msg,\r\n          type: 'success',\r\n          showClose: true\r\n        })\r\n        this.dialogVisible = false\r\n        this.getUserList()\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n    },\r\n    userUpdate (userInfo) {\r\n      console.log(userInfo)\r\n      this.getUserList()\r\n    },\r\n    showAddDialog () {\r\n      // console.log('----------')\r\n\r\n      this.isAddDialog = true\r\n      this.addDialogVisible = true\r\n      // this.$refs.addFormRef.resetFields()\r\n    },\r\n    showEditDialog (id) {\r\n      this.addDialogVisible = true\r\n      this.isAddDialog = false\r\n\r\n      request({\r\n        url: '/web/user/' + id,\r\n        method: 'get'\r\n      }).then(res => {\r\n        console.log(res);\r\n\r\n        this.addForm = res.data\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n    },\r\n    showDelDialog (id) {\r\n      this.delId = id\r\n      this.dialogVisible = true\r\n    },\r\n    addDialogBeforeClose () {\r\n      this.$refs.addFormRef.resetFields()\r\n    },\r\n    getUserList () {\r\n      request({\r\n        url: '/web/user',\r\n        method: 'get',\r\n        params: this.queryInfo\r\n      }).then(data => {\r\n        console.log(data)\r\n        if (data.status !== 200) {\r\n          this.$message({\r\n            message: data.msg,\r\n            type: 'error',\r\n            showClose: true\r\n          })\r\n          return\r\n        }\r\n        this.userList = data.data\r\n        this.total = data.total\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getUserList()\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.el-table {\r\n  margin-top: 15px;\r\n}\r\n.el-pagination {\r\n  margin-top: 15px;\r\n}\r\n.el-form-item-id {\r\n  display: none;\r\n}\r\n.showpwdinput {\r\n  display: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=47d63169&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}